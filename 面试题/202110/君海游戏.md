十三、君海游戏

20211019 下午两点
```text
一面：
1.数仓分层
2.Flink如何保证数据不丢失？
    因为flink是个计算引擎，它不丢失数据我们讨论的更多是计算中的数据不丢以及计算出来的结果是准确的，它的checkpoint机制以及端到端exactly-once
3.kafka如何保证数据不丢失？
    3.1 第一个服务器端持久化设置为同步刷盘
    3.2 第二个生产者设置为同步投递，设置为-1，只有当leader以及lsr里面的follower全部接收同步到消息才算成功。如果投递中间服务器宕机，也可以根据投递日志进行恢复。
    3.3 第三个消费端设置为手动提交。
4.Flink窗口函数其实区别
    时间窗口、会话窗口
5.Flink如何处理延迟数据？举例说明
    设置watermark以及确定容忍延迟时长，一般我们这边计算当天的总实时GMV是延迟五分钟左右，而且是计算当天数据
6.Hudi的优势在哪儿？
    也就是为什么会出现hudi
7.HBase宽表设计
    放在一个CF，主要在于key的设计，要根据的业务场景来定key的设计
8.如何处理Hive数据倾斜
    第一种key分布不均匀，加盐打散key
    第二种sql中存在join、count distinct、group by 等是会造成数据倾斜。
        join key有空值：加随机数;采用mapjoin，将小表放到内存避免大表的shuffle
        列剪裁、分区过滤等
9.Hive存储格式有哪些？你们采用了哪种存储格式？有采用压缩吗？
    orc、text、Parquet等
    SNAPPY：SNAPPY压缩编解码器提供了良好的压缩速度和大小的平衡
10.海豚调度的优势在哪儿？
    可视化拖拉拽
11.了解哪些MPP架构的数据库
    pg、dws等
12.Spark streaming有使用过吗？
13.批流一体有实践过吗？
14.说一个Flink在生产上遇到的问题
    反压
15.数据集市用的什么建模方式
    维度建模
16.如何处理Flink数据倾斜？
    1.对记录进行预聚合
    2.用自定义分区器
    3.使用.rebalance()、.rescale()或.shuffle()：这些方法可以重新平衡数据流，以确保数据分布更加均匀
17.有什么想问我的？
```